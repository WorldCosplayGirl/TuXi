@{
    ViewBag.Title = "增加或编辑用户";
    Layout = "~/Views/Shared/_MainContentLayout.cshtml";
}

@*<h2>坐标转换_控制点参数设置弹出框</h2>*@


<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-body">
                    <div class="layui-form layui-border-box layui-table-view" lay-filter="LAY-table-3" lay-id="3" style="width:800px; ">
                        <div class="layui-table-box">
                            <div class="layui-table-header">
                                <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                    <thead>
                                        <tr>
                                            <th data-field="username" data-key="3-0-1" rowspan="2" class="">
                                                <div class="layui-table-cell laytable-cell-3-0-1"><span>序号</span></div>
                                            </th>
                                            <th data-field="2" data-key="3-0-2" colspan="3" data-unresize="true" class=" layui-table-col-special">
                                                <div class="layui-table-cell laytable-cell-group" align="center"><span>转换前的空间参考系</span></div>
                                            </th>
                                            <th data-field="2" data-key="3-0-3" colspan="3" data-unresize="true" class=" layui-table-col-special">
                                                <div class="layui-table-cell laytable-cell-group" align="center"><span>转换后的空间参考系</span></div>
                                            </th>
                                            <th data-field="4" data-key="3-0-4" rowspan="2" class=" layui-table-col-special">
                                                <div class="layui-table-cell laytable-cell-3-0-4" align="center"><span>操作</span></div>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th data-field="province" data-key="3-1-0" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-0"><span>X</span></div>
                                            </th>
                                            <th data-field="city" data-key="3-1-1" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-1"><span>Y</span></div>
                                            </th>
                                            <th data-field="zone" data-key="3-1-2" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-2"><span>Z</span></div>
                                            </th>
                                            <th data-field="province" data-key="3-1-3" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-3"><span>X</span></div>
                                            </th>
                                            <th data-field="city" data-key="3-1-4" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-4"><span>Y</span></div>
                                            </th>
                                            <th data-field="zone" data-key="3-1-5" data-parentkey="0-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-5"><span>Z</span></div>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="layui-table-body layui-table-main">
                                <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                    <tbody id="tbody">
                                        <tr id="row1">
                                            <td data-key="3-0-1" class="">
                                                <div class="layui-table-cell laytable-cell-3-0-1">1</div>
                                            </td>
                                            <td data-key="3-1-0" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-0"><input type="text" value="X" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-1-1" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-1"><input type="text" value="Y" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-1-2" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-2"><input type="text" value="Z" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-1-3" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-3"><input type="text" value="X" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-1-4" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-4"><input type="text" value="Y" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-1-5" class="">
                                                <div class="layui-table-cell laytable-cell-3-1-5"><input type="text" value="Z" class="layui-input" style="height:28px;" /></div>
                                            </td>
                                            <td data-key="3-0-4" align="center" data-off="true" class="layui-table-col-special">
                                                <div class="layui-table-cell laytable-cell-3-0-4">
                                                    <button class="layui-btn layui-btn-sm" onclick="Add_Tr()"><i class="layui-icon"></i></button>
                                                    <button class="layui-btn layui-btn-sm" onclick="Del_Tr()"><i class="layui-icon"></i></button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <style>
                            .laytable-cell-3-0-1 {
                                width: 90px;
                            }

                            .laytable-cell-3-0-2 {
                                width: 90px;
                            }

                            .laytable-cell-3-0-3 {
                                width: 90px;
                            }

                            .laytable-cell-3-0-4 {
                                width: 160px;
                            }

                            .laytable-cell-3-1-0 {
                                width: 90px;
                            }

                            .laytable-cell-3-1-1 {
                                width: 90px;
                            }

                            .laytable-cell-3-1-2 {
                                width: 90px;
                            }

                            .laytable-cell-3-1-3 {
                                width: 90px;
                            }

                            .laytable-cell-3-1-4 {
                                width: 90px;
                            }

                            .laytable-cell-3-1-5 {
                                width: 90px;
                            }
                        </style>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section script{
    <script>
        layui.initModule("tal", function () {

        })
        var flag = 2;
        function Add_Tr() {
            var rowLength = $("#tbody tr").length;

            var rowId = "row" + flag;

            var insertStr = "<tr id=" + rowId + ">"
                + '<td data-key="3-0-1" class=""><div class="layui-table-cell laytable-cell-3-0-1">' + parseInt(rowLength+1) + '</div></td>'
                + '<td data-key="3-1-0" class=""><div class="layui-table-cell laytable-cell-3-1-0"><input type="text" value="X" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-1-1" class=""><div class="layui-table-cell laytable-cell-3-1-1"><input type="text" value="Y" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-1-2" class=""><div class="layui-table-cell laytable-cell-3-1-2"><input type="text" value="Z" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-1-3" class=""><div class="layui-table-cell laytable-cell-3-1-3"><input type="text" value="X" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-1-4" class=""><div class="layui-table-cell laytable-cell-3-1-4"><input type="text" value="Y" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-1-5" class=""><div class="layui-table-cell laytable-cell-3-1-5"><input type="text" value="Z" class="layui-input" style="height:28px;" /></div></td>'
                + '<td data-key="3-0-4" align="center" data-off="true" class="layui-table-col-special"><div class="layui-table-cell laytable-cell-3-0-4">'
                + '<button class="layui-btn layui-btn-sm" onclick="Add_Tr()"><i class="layui-icon"></i>'
                + '</button><button class="layui-btn layui-btn-sm" onclick="Del_Tr(' + rowId + ')"><i class="layui-icon"></i></button>'
                + '</div></td>'
                + "</tr>";

            flag++;

            $("#tbody").append(insertStr);
        }

        function Del_Tr(rowId) {
            debugger
            //if (confirm("确定删除该行吗？")) {
                //$("#" + rowId).remove();
                console.log($(rowId).remove())
            //}
        }
    </script>
}